<!DOCTYPE html>

<html>
<head>
  <title>calendar.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>calendar.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-comment">/*
** EECS 448 Project #1,2: Clock
** @author: Cesar Avalos 
** @description: Functions that implement the calendar. Most methods are called in the frontEnd.js, Clock.js files
** Last update: March 5, 2016.
*/</span>

<span class="hljs-comment">/**
	* Global Variable to hold the final date string 
*/</span>
<span class="hljs-keyword">var</span> date = <span class="hljs-string">" "</span>; <span class="hljs-comment">// Date string </span>

<span class="hljs-comment">/**
	* Global Variable to hold the day number 
*/</span>
<span class="hljs-keyword">var</span> day = <span class="hljs-number">6</span>; <span class="hljs-comment">// Variable to hold the day </span>
<span class="hljs-comment">/**
	* Global Variable to hold the month 
*/</span>
<span class="hljs-keyword">var</span> month = <span class="hljs-number">6</span>; <span class="hljs-comment">// Variable to hold the month </span>

<span class="hljs-comment">/**
	* Global array  used for the set_date function 
*/</span>
<span class="hljs-keyword">var</span> month_key_value = [<span class="hljs-number">1</span>,<span class="hljs-number">4</span>,<span class="hljs-number">4</span>,<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">5</span>,<span class="hljs-number">0</span>,<span class="hljs-number">3</span>,<span class="hljs-number">6</span>,<span class="hljs-number">1</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span>]; <span class="hljs-comment">// Used for the set_date function </span>

<span class="hljs-comment">/**
	* Global array used for holding method names  
*/</span>
<span class="hljs-keyword">var</span> monthText = [<span class="hljs-string">"January"</span>, <span class="hljs-string">"February"</span>, <span class="hljs-string">"March"</span>, <span class="hljs-string">"April"</span>, <span class="hljs-string">"May"</span>, <span class="hljs-string">"June"</span>, <span class="hljs-string">"July"</span>, <span class="hljs-string">"August"</span>, <span class="hljs-string">"September"</span>, <span class="hljs-string">"October"</span>, <span class="hljs-string">"November"</span>, <span class="hljs-string">"December"</span>]; <span class="hljs-comment">// Array for holding month names </span>


<span class="hljs-comment">/**
     * Function to handle next day transitions. 
	 * Called in the offsetTime method of the clock.js file. Called in the hourIncrement functon of the Clock object in clock.js
	 * @author Cesar Avalos, Alec Knutsen 
	 * @see clock.js, setDate()
*/</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nextDay</span>(<span class="hljs-params"></span>)
</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Switch statement for the month </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">switch</span>(month){</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>If February</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>If we reached the 29 day, increment the month, and reset the day </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span>(day == <span class="hljs-number">29</span>)
		{
			month++;
			day = <span class="hljs-number">1</span>;
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>If we have not reached the 29 day, increment the day </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">else</span> {
			day++;
		}
		<span class="hljs-keyword">break</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Case: Months with 30 days: April, June, September, and November </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
		<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
		<span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:
		<span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>If we have reached the 30 day, increment the month and reset the day </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span>(day == <span class="hljs-number">30</span>)
		{
			month++;
			day = <span class="hljs-number">1</span>;
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>If we have not reached the 30 day, increment the day </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">else</span> {
			day++;
		}
		<span class="hljs-keyword">break</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Months with 31 Days: January, March, May, July, August, October, December </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">default</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>If we have reached the last day </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span>(day == <span class="hljs-number">31</span>)
		{</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>If we are in Deember and reached the last day, reset the month to January and reset the day </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">if</span>(month ==<span class="hljs-number">12</span>) {
				month=<span class="hljs-number">1</span>;
				day = <span class="hljs-number">1</span>;
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>If we have reached the last day and are not in December, increment the month and reset the day </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">else</span> {
				month++;
				day = <span class="hljs-number">1</span>;
			}
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>If we have not reached the last day, increment the day </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">else</span> {
			day++;
		}
	
		<span class="hljs-keyword">break</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>After changing the day, called the setDate() method  from this file </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	setDate();
}


<span class="hljs-comment">/**
     * Sets the string variable date with the current day of the week. 
	 * Called in the nextDay() method from this file. 
	 * @author Cesar Avalos 
	 * @see nextDay()
*/</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setDate</span>(<span class="hljs-params"></span>)
</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>If this is a leap year, compensate by changing jan. and feb. month key value</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> leap = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">if</span>(month == <span class="hljs-number">2</span> || month == <span class="hljs-number">1</span>)
	{
		leap = <span class="hljs-number">-1</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>Modified Gauss method
Source was wikipedia 
formula is [(year / 4) + day + month + leap + century + last digits of year] mod 7</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> formula = <span class="hljs-built_in">Math</span>.floor((<span class="hljs-number">4</span> + day + month_key_value[month - <span class="hljs-number">1</span>] + leap + <span class="hljs-number">6</span> + <span class="hljs-number">16</span>) % <span class="hljs-number">7</span>);
	<span class="hljs-keyword">switch</span>(formula)
	{
		<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
		date = <span class="hljs-string">"Sunday"</span>;
		<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
		date = <span class="hljs-string">"Monday"</span>;
		<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
		date = <span class="hljs-string">"Tuesday"</span>;
		<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
		date = <span class="hljs-string">"Wednesday"</span>;
		<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
		date = <span class="hljs-string">"Thursday"</span>;
		<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
		date = <span class="hljs-string">"Friday"</span>;
		<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
		date = <span class="hljs-string">"Saturday"</span>;
		<span class="hljs-keyword">break</span>;
	}
}


<span class="hljs-comment">/**
     * Checks if the input day and month are within the appropriate range. 
	 * Called in the CalendarsetButton() method of the frontEnd.js file 
     * @param {number} inDay - Number of day to check 
     * @return {boolean} - Returns true if the date is valid, false otherwise 
	 * @see frontEnds.js 
*/</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkValidDay</span>(<span class="hljs-params">inDay, inMonth</span>)
</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>General check: If the day is greater than 0 and the month is between 1 and 12 </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span>(inDay &gt; <span class="hljs-number">0</span> &amp;&amp; inMonth &lt;= <span class="hljs-number">12</span> &amp;&amp; inMonth &gt; <span class="hljs-number">0</span> )
	{</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Switch statement for checking the appropriate last days for different months </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">switch</span>(inMonth){</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Case February </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>If the day is less than 29 (valid), return true </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span>(inDay &lt;= <span class="hljs-number">29</span>)
		{
			<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
		}
		<span class="hljs-keyword">break</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>Case: Months with 30 days: April, June, September, and November </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
		<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
		<span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:
		<span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>If the day is less than 30 (valid), return true </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span>(inDay &lt;= <span class="hljs-number">30</span>)
		{
			<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
		}
		<span class="hljs-keyword">break</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>Months with 31 Days: January, March, May, July, August, October, December </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">default</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>If the day is less than 31 (valid), return true </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span>(inDay &lt;= <span class="hljs-number">31</span>)
		{
			<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
		}
		<span class="hljs-keyword">break</span>;
	}
		<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// Return false if we have not return true yet </span>
		
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>If general check does not work, return false </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">return</span>(<span class="hljs-literal">false</span>);
	}
}


<span class="hljs-comment">/**
     * Displays time onto an HTML element. 
	 * Called in the window.onLoad, tick, and calendarSetButton methods of the frontEnd.js file 
	 * @author - Cesar Avalos 
     * @param calendarDiv - HTML element to set 
	 * @see frontEnd.js 
*/</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">displayDate</span>(<span class="hljs-params">calendarDiv</span>)
</span>{
	calendarDiv.innerHTML = date + <span class="hljs-string">", "</span> + monthText[month - <span class="hljs-number">1</span>]+ <span class="hljs-string">", "</span>+ day; <span class="hljs-comment">// Set the HTML passed in as a parameter to the date plus that appropriate month from the date array </span>
}</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
