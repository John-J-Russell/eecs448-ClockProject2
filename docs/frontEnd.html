<!DOCTYPE html>

<html>
<head>
  <title>frontEnd.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>frontEnd.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> clock = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"clock"</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Here be the flags m8</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> stopWatchFlag = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> clockFlag	  = <span class="hljs-literal">true</span>;
<span class="hljs-keyword">var</span> timerFlag     = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> stopWatchEnable = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> stopWatchBtnToggle = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> timerEnabledFlag = <span class="hljs-literal">false</span>; 

<span class="hljs-keyword">var</span> Military = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> isThisGinJointVisible = <span class="hljs-literal">true</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>To make things smarter we will define variables to redefine things, yet still retain functionality
The idea is since everything is inside a single tick, a higher tick rate should make 
things react faster</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> tickRate = <span class="hljs-number">100</span>; <span class="hljs-comment">//rate at which the tick action will be executed (in ms)</span>
<span class="hljs-keyword">var</span> clockCounterLimit = (<span class="hljs-number">1000</span> / tickRate) - <span class="hljs-number">1</span>;
<span class="hljs-keyword">var</span> clockCounter 	 = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> stopWatchCounter = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> timerCounter = <span class="hljs-number">0</span>;

<span class="hljs-keyword">var</span> currentZoomLevel = <span class="hljs-number">2</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Declare the window elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> clockDIV	 = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"clock"</span>);
<span class="hljs-keyword">var</span> stopWatchDIV = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"stopWatch"</span>);
<span class="hljs-keyword">var</span> timerDIV	 = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"timer"</span>);

<span class="hljs-keyword">var</span> hourDIV	 	 = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"clock-hour"</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>var minuteDIV     = document.getElementById(“clock-minute”);
var secondDIV     = document.getElementById(“clock-second”);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">var</span> timerHourDIV	 = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"timer-hour"</span>);
<span class="hljs-keyword">var</span> timerMinuteDIV	 = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"timer-minute"</span>);
<span class="hljs-keyword">var</span> timerSecondDIV	 = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"timer-second"</span>);

<span class="hljs-keyword">var</span> calendarDIV   	 = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"calendar"</span>);

<span class="hljs-keyword">var</span> clockModeMenu 	 = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"amORpm"</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Dynamic Button Text Changing Variablesß</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> stopWatchRunButton  = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"stopWatchBtn"</span>);
<span class="hljs-keyword">var</span> clockMilitaryButton = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"clockMilBtn"</span>);
<span class="hljs-keyword">var</span> stopTimerButton   	= <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"pauseTimerBtn"</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Initialize Clock to the system time</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">intializeClockValues</span>(<span class="hljs-params"></span>)
</span>{
	<span class="hljs-keyword">var</span> now = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
	<span class="hljs-keyword">var</span> tempHour = Clock.toCivilianTime(now.getHours());
	Clock.setTime(tempHour, now.getMinutes(), now.getSeconds());
}</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Initialize everything once the page loads, to avoid referencing unloaded things</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-built_in">window</span>.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
</span>{
	loadConfig();
	intializeClockValues();
	setDate();
	setInterval(tick, tickRate);</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Display initial</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	displayClock(clockDIV, hourDIV);
	displayDate(calendarDIV);
	displayTimer(timerDIV);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Handling functions are defined as those which perform
a form of check particular to a module, in order to elicit
different behaviors.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clockHandling</span>(<span class="hljs-params"></span>)
</span>{
	<span class="hljs-keyword">if</span>(clockCounter &gt;= clockCounterLimit)
	{
		clockCounter = <span class="hljs-number">0</span>;
		Clock.tick();
	}
	<span class="hljs-keyword">else</span>
	{
		clockCounter++;
	}
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stopWatchHandling</span>(<span class="hljs-params"></span>)
</span>{
	<span class="hljs-keyword">if</span>(stopWatchBtnToggle)
	{
		<span class="hljs-keyword">if</span>(stopWatchCounter &gt;= clockCounterLimit)
		{
			stopWatchCounter = <span class="hljs-number">0</span>;
			stopWatchRun();
		}
		<span class="hljs-keyword">else</span>
		{
			stopWatchCounter++;
		}
	}
	<span class="hljs-keyword">else</span>
	{

	}
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">timerHandling</span>(<span class="hljs-params"></span>)
</span>{
	<span class="hljs-keyword">if</span>(timerEnabledFlag)
	{
		<span class="hljs-keyword">if</span>(timerCounter &gt;= clockCounterLimit)
		{
			timerCounter = <span class="hljs-number">0</span>;
			countdown(timerDIV);
		}
		<span class="hljs-keyword">else</span>
		{
			timerCounter++;
		}
	}
}</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>the tick function is called by setInterval to be executed every
tickRate rate.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tick</span>(<span class="hljs-params"></span>)
</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Execute Handlers</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	clockHandling();
	stopWatchHandling();
	timerHandling();</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>Display Clock, Timer and StopWatch</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	displayClock(clockDIV, hourDIV);
	stopWatchDisplay(stopWatchDIV);
	displayTimer(timerDIV);
	displayDate(calendarDIV);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>Button functions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stopWatchPlayPauseButton</span>(<span class="hljs-params"></span>)
</span>{
	<span class="hljs-keyword">if</span>(!stopWatchBtnToggle)
	{
		stopWatchEnable = <span class="hljs-literal">true</span>;
		stopWatchRun();
		stopWatchBtnToggle = <span class="hljs-literal">true</span>;
		stopWatchRunButton.innerHTML = <span class="hljs-string">"Pause"</span>
		oneInstanceStopWatch = <span class="hljs-literal">true</span>;
	}
	<span class="hljs-keyword">else</span>
	{
		stopWatchCounter = <span class="hljs-number">0</span>;
		stopWatchBtnToggle = <span class="hljs-literal">false</span>	;
		stopWatchRunButton.innerHTML = <span class="hljs-string">"Start"</span>

	}
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stopWatchResetButton</span>(<span class="hljs-params"></span>)
</span>{
		stopWatchReset();
		stopWatchCounter = <span class="hljs-number">0</span>; <span class="hljs-comment">// Reset the counter as well</span>
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">timerStartButton</span>(<span class="hljs-params"></span>)
</span>{
	<span class="hljs-keyword">if</span>(!timerEnabledFlag)
	{
		startTimer(hourField, minField, secField);
		displayTimer(timerDIV);	
		timerEnabledFlag = <span class="hljs-literal">true</span>;
	}
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">timerResetButton</span>(<span class="hljs-params"></span>)
</span>{
	<span class="hljs-keyword">if</span>(timerEnabledFlag)
	{
		resetTimer();
		timerEnabledFlag = <span class="hljs-literal">false</span>;
	}
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">timerPauseButton</span>(<span class="hljs-params"></span>)
</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>Handle the dynamic button text</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span>(timer.tickTockOrNot)
	{
		stopTimerButton.innerHTML = <span class="hljs-string">" Resume "</span>;
	}
	<span class="hljs-keyword">else</span>
	{
		stopTimerButton.innerHTML = <span class="hljs-string">" Pause "</span>;
	}
	switchTickTockOrNot();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">calendarSetButton</span>(<span class="hljs-params"></span>)
</span>{
	tempDay = <span class="hljs-built_in">parseInt</span>(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"InputDay"</span>).value)
	tempMonth = <span class="hljs-built_in">parseInt</span>(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"InputMonth"</span>).value);
	<span class="hljs-keyword">if</span>(checkValidDay(tempDay, tempMonth))
	{
		day = tempDay;
		month = tempMonth;
		setDate();
		displayDate(calendarDIV);
	}
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setClockButton</span>(<span class="hljs-params"></span>)
</span>{
	<span class="hljs-keyword">var</span> tempHour = <span class="hljs-built_in">parseInt</span>(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"InputHours"</span>).value);
	<span class="hljs-keyword">var</span> tempMin  = <span class="hljs-built_in">parseInt</span>(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"InputMinutes"</span>).value);
	<span class="hljs-keyword">var</span> tempSec  = <span class="hljs-built_in">parseInt</span>(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"InputSeconds"</span>).value);
	<span class="hljs-keyword">var</span> tempampm = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"amORpm"</span>).value;
	<span class="hljs-keyword">if</span>(checkValidTimeInput(tempHour, tempMin, tempSec))
	{
		Clock.setHours(tempHour);
		Clock.setMinutes(tempMin); 
		Clock.setSeconds(tempSec); 
		<span class="hljs-keyword">if</span>(!Military)
		{
			Clock.setAM_PM(tempampm);			
		}
		clockCounter = <span class="hljs-number">0</span>;
	}
	
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setClockMilitaryButton</span>(<span class="hljs-params"></span>)
</span>{
	<span class="hljs-keyword">if</span>(!Military)
	{
		Military = <span class="hljs-literal">true</span>;
		clockModeMenu.style.display = <span class="hljs-string">'none'</span>;
		clockMilitaryButton.innerHTML = <span class="hljs-string">"Civilian Time"</span>;
		Clock.setMilitary(<span class="hljs-literal">true</span>);
	}
	<span class="hljs-keyword">else</span>
	{
		Military = <span class="hljs-literal">false</span>;
		clockMilitaryButton.innerHTML = <span class="hljs-string">"Military Time"</span>;
		clockModeMenu.style.display = <span class="hljs-string">'inline-block'</span>;
		Clock.setMilitary(<span class="hljs-literal">false</span>);
	}
	Clock.transformToCorrectMode();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">shutDownThisJointButton</span>(<span class="hljs-params"></span>)
</span>{
	<span class="hljs-keyword">if</span>(isThisGinJointVisible)
	{
		<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"main-content"</span>).style.visible = <span class="hljs-string">'none'</span>;
		isThisGinJointVisible = <span class="hljs-literal">false</span>;
	}
	<span class="hljs-keyword">else</span>
	{
		<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"main-content"</span>).style.visible = <span class="hljs-string">'inline-block'</span>;
		isThisGinJointVisible = <span class="hljs-literal">true</span>;
	}
}</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>Input sanitizing functions - Temp location
May be a bit too specific to be defined here</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkValidTimeInput</span>(<span class="hljs-params">_hour, _min,_sec</span>)
</span>{
	<span class="hljs-keyword">if</span>(Clock.getMilitaryTime() == <span class="hljs-literal">true</span>)
	{
		<span class="hljs-keyword">if</span>(_hour &gt;= <span class="hljs-number">0</span> &amp;&amp; _hour &lt; <span class="hljs-number">24</span>)
		{
			<span class="hljs-keyword">if</span>(_min &gt;= <span class="hljs-number">0</span> &amp;&amp; _min &lt; <span class="hljs-number">60</span>)
			{
				<span class="hljs-keyword">if</span>(_sec &gt;= <span class="hljs-number">0</span> &amp;&amp; _sec &lt; <span class="hljs-number">60</span>)
				{
					<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
				}
			}
		}
	}
	<span class="hljs-keyword">else</span>
	{
		<span class="hljs-keyword">if</span>(_hour &gt; <span class="hljs-number">0</span> &amp;&amp; _hour &lt; <span class="hljs-number">13</span>)
		{
			<span class="hljs-keyword">if</span>(_min &gt;= <span class="hljs-number">0</span> &amp;&amp; _min &lt; <span class="hljs-number">60</span>)
			{
				<span class="hljs-keyword">if</span>(_sec &gt;= <span class="hljs-number">0</span> &amp;&amp; _sec &lt; <span class="hljs-number">60</span>)
				{
					<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
				}
			}
		}
	}
	<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">zoomIn</span>(<span class="hljs-params"></span>)
</span>{
	currentZoomLevel++;
	resizeTextElements();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">zoomOut</span>(<span class="hljs-params"></span>)
</span>{
	<span class="hljs-keyword">if</span>(currentZoomLevel &gt; <span class="hljs-number">0</span>)
	{
		currentZoomLevel--;
		resizeTextElements();
	}
}</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>Generic function that checks if a value is within certain range (including)
If its within the limit, return true,</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkLimit</span>(<span class="hljs-params">value, min, max</span>)
</span>{
	<span class="hljs-keyword">if</span>(value &lt; max &amp;&amp; value &gt; min)
	{
		<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
	}
	<span class="hljs-keyword">else</span>
	{
		<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
	}
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resizeTextElements</span>(<span class="hljs-params"></span>)
</span>{
	<span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.controls h1'</span>).style.fontSize = (<span class="hljs-number">20</span> * currentZoomLevel)+<span class="hljs-string">"px"</span>;
	<span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.object'</span>).style.fontSize = (<span class="hljs-number">30</span> * currentZoomLevel)+<span class="hljs-string">"px"</span>;

}</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
